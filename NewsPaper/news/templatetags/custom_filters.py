from django import template

register = template.Library()

# Я заставил ИИ сделать гадость
censored_words = [
    "идиот",
    "дурак",
    "тупица",
    "полный отморозок",
    "безмозглый",
    "кретин",
    "мудак",
    "мудила",
    "сумасшедший",
    "дебил",
    "козёл",
    "жлоб",
    "свинья",
    "клоун",
    "паршивец",
    "урод",
    "проходимец",
    "негодяй",
    "падла",
    "мерзавец",
    "парень с улицы",
    "глупец",
    "чудак",
    "плебей",
    "недоразумение",
    "индивидуум",
    "осел",
    "простак",
    "пустобрёх",
    "глупец",
    "недотёпа",
    "недоделанец",
    "подонок",
    "скотина",
    "зараза",
    "животное",
    "балбес",
    "глупыш",
    "болван",
    "бога",
    "полудурок",
    "дятел",
    "глупенький",
    "болванчик",
    "долбоёб",
    "выродок",
    "недоделок",
    "дерьмо",
    "сброд",
    "болванчик",
    "мудозвон",
    "свинопас",
    "выродок",
    "тупоумный",
    "тупица",
    "хахлы",
    "смешной дурачок",
    "жирный тупица",
    "несчастный глупец",
    "мерзавец",
    "суетливый глупец",
    "полный идиот",
    "бестолковый мудак",
    "подлое создание",
    "тупица и кретин",
    "гнилой мудила",
    "несчастный дурак",
    "невежественный злодей",
    "подлый мудозвон",
    "грубый болван",
    "безумный дебил",
    "тупица и идиот",
    "ненормальный козёл",
    "жирная свинья",
    "бестолковый клоун",
    "невежественный паршивец",
    "тупой кретин",
    "мерзкий дебил",
    "дурацкая свинья",
    "глупый козёл",
    "противный идиот",
    "уродливый мудак",
    "грубый мудила",
    "жалкий дебил",
    "грубый кретин",
    "презренный дурак",
    "бестолковый мудила",
    "тупой идиот",
    "мерзкий козёл",
    "безмозглый клоун",
    "тупой паршивец",
    "глупый кретин",
    "мерзкий клоун",
    "тупица и идиот",
    "недалёкий козёл",
    "бестолковый дурак",
    "жалкий дебил",
    "тупой мудила",
    "некомпетентный паршивец",
    "глупый кретин",
    "мерзкий дебил",
    "грубый мудила",
    "несчастный кретин",
    "тупой мудак",
    "мерзкое создание",
    "нелепый мудозвон",
    "бестолковый козёл",
    "уродливая свинья",
    "глупый кретин",
    "мерзкий дебил",
    "тупой идиот",
    "неприятный мудак",
    "мерзкий козёл",
    "бестолковый дурак",
    "жалкий дебил",
    "тупой мудила",
    "некомпетентный паршивец",
    "глупый кретин",
    "мерзкий дебил",
    "грубый мудила",
    "несчастный кретин",
    "тупой мудак",
    "мерзкое создание",
    "нелепый мудозвон",
    "бестолковый козёл",
    "уродливая свинья",
    "глупый кретин",
    "мерзкий дебил",
    "тупой идиот",
    "неприятный мудак",
    "грубый козёл",
    "недалёкий кретин",
    "мерзкий клоун",
    "тупой паршивец",
    "глупый идиот",
    "мерзкий мудила",
    "безмозглый козёл",
    "несчастная свинья",
    "противный клоун",
    "грубый паршивец",
    "тупой кретин",
    "мерзкий мудила",
    "дурацкий кретин",
    "презренный мудак",
    "глупый мудила",
    "мерзкий кретин",
    "тупой идиот",
    "несчастный мудак",
    "мерзкий козёл",
    "бестолковый идиот",
    "жалкий мудила",
    "грубый дурак",
    "невежественный козёл",
    "мерзкий кретин",
    "тупой мудила",
    "некомпетентный кретин",
    "бестолковый дебил",
    "жалкий идиот",
    "грубый мудила",
    "мерзкий паршивец",
    "тупой дурак",
    "грубый кретин",
    "мерзкий идиот",
    "тупой мудак",
    "грубое создание",
    "нелепый козёл",
    "бестолковый мудак",
    "уродливый идиот",
    "глупый мудак",
    "мерзкий идиот",
    "тупой козёл",
    "неприятный дебил",
    "мерзкий кретин",
    "тупой мудила",
    "недалёкий паршивец",
    "бестолковый кретин",
    "нелепый дебил",
    "тупой идиот",
    "несчастный козёл",
    "мерзкий мудак",
    "грубый идиот",
    "мерзкий кретин",
    "тупой дебил",
    "бестолковый мудила",
    "жалкий кретин",
    "грубый мудак",
    "недалёкий идиот",
    "тупой козёл",
    "глупый паршивец",
    "мерзкий идиот",
    "тупой мудак",
    "грубое создание",
    "нелепый козёл",
    "бестолковый мудак",
    "уродливый идиот",
    "глупый мудак",
    "мерзкий идиот",
    "тупой козёл",
    "неприятный дебил",
    "мерзкий кретин",
    "тупой мудила",
    "недалёкий паршивец",
    "бестолковый кретин",
    "нелепый дебил",
    "тупой идиот",
    "несчастный козёл",
    "мерзкий мудак",
    "грубый идиот",
    "мерзкий кретин",
    "тупой дебил",
    "бестолковый мудила",
    "жалкий кретин",
    "грубый мудак",
    "недалёкий идиот",
    "тупой козёл",
    "глупый паршивец",
    "мерзкий идиот",
    "тупой мудак"
]


# @register.filter()
# def censor_all_word(value: str) -> str:
#     """Функция замены самая банальная и вообще неэффективная, но времени пол седьмого утра и я хочу спать..
#     спасибо за понимание❤️"""
#     if not isinstance(value, str):
#         raise ValueError("Фильтр censor применяется только к строкам.")
#     for word in censored_words:
#         complete = False
#         while not complete:
#             value = value.replace(word, '*' * len(word))
#             value = value.replace(word.capitalize(), '*' * len(word))
#             value = value.replace(word.upper(), '*' * len(word))
#             if word not in value:
#                 complete = True
#     return value

@register.filter()
def censor(value: str) -> str:
    if not isinstance(value, str):
        raise ValueError("Фильтр censor применяется только к строкам.")
    words = value.split()
    result = []
    for word in words:
        if any(word.casefold() == censored_word.casefold() for censored_word in censored_words):
            result.append(word[0] + "*" * (len(word) - 2) + word[-1])
        else:
            result.append(word)
    return " ".join(result)
